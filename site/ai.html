<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Activity • Orbsurv</title>
  <link rel="icon" type="image/x-icon" href="/Image/Group 213.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@600;700&family=Inter:wght@400;500;600;700&family=Roboto+Mono:wght@500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-Cg7nK4Jmrx/6qsYqS+8CA0nVddOZXS6jttuPAHyBs+K6TfGsDzpDHK5vVsQt1zArhcXd23LSezfhBF02NnS9aQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="css/global.css" />
  <link rel="stylesheet" href="css/app.css" />
  <link rel="stylesheet" href="css/ai.css" />
</head>
<body>
  <div class="app-shell">
    <header class="top-nav">
      <div class="wrap">
        <div class="brand">
          <a class="logo" href="index.html">Orbsurv</a>
          <span class="badge">Operator</span>
        </div>
        <nav class="primary-nav" aria-label="Main navigation">
          <a href="feed.html"><span class="icon"><i class="fa-solid fa-circle-play"></i></span><span>Feed</span></a>
          <a href="ai.html" aria-current="page"><span class="icon"><i class="fa-solid fa-wand-magic-sparkles"></i></span><span>AI</span></a>
          <a href="calendar.html"><span class="icon"><i class="fa-solid fa-film"></i></span><span>Calendar</span></a>
          <a href="gallery.html"><span class="icon"><i class="fa-solid fa-grip"></i></span><span>Gallery</span></a>
          <a href="admin.html"><span class="icon"><i class="fa-solid fa-hashtag"></i></span><span>Admin</span></a>
          <a href="rail.html"><span class="icon"><i class="fa-solid fa-route"></i></span><span>Rail</span></a>
        </nav>
      </div>
    </header>

    <main class="wrap">
      <section class="page-header">
        <div>
          <h1>AI Activity &amp; Memory</h1>
          <p>Review detections, rules, and generated recollections so the rail stays precise and auditable.</p>
        </div>
        <div class="stat-bar" id="statBar" aria-live="polite">
          <div class="stat">
            <h4>Detections</h4>
            <strong id="statDetections">0</strong>
            <span class="mini-label">Last 24 hours</span>
          </div>
          <div class="stat">
            <h4>Rules fired</h4>
            <strong id="statRules">0</strong>
            <span class="mini-label">Alerts acknowledged</span>
          </div>
          <div class="stat">
            <h4>Confidence</h4>
            <strong id="statConfidence">0%</strong>
            <span class="mini-label">Median</span>
          </div>
        </div>
      </section>

      <section class="ai-board">
        <div class="section-stack">
          <article class="card-tile filter-card" aria-label="Detection filters">
            <header class="tile-head">
              <h2>Filters</h2>
              <span class="tile-meta" id="activeFilters">All events</span>
            </header>
            <div class="filter-controls">
              <div>
                <span class="mini-label">Labels</span>
                <div class="chip-group" id="labelChips" role="toolbar" aria-label="Label filters">
                  <button type="button" class="chip" data-label="all" data-active="true" aria-pressed="true">All</button>
                  <button type="button" class="chip" data-label="Person" aria-pressed="false">People</button>
                  <button type="button" class="chip" data-label="Vehicle" aria-pressed="false">Vehicles</button>
                  <button type="button" class="chip" data-label="Pet" aria-pressed="false">Pets</button>
                  <button type="button" class="chip" data-label="Unknown" aria-pressed="false">Unknown</button>
                </div>
              </div>
              <div>
                <span class="mini-label">Minimum confidence</span>
                <input type="range" id="confidenceRange" class="range-input" min="0.5" max="1" step="0.01" value="0.6" aria-valuemin="0.5" aria-valuemax="1" aria-valuenow="0.6" aria-label="Minimum confidence" />
                <div class="range-meta">
                  <span>50%</span>
                  <span id="confidenceLabel">60%</span>
                </div>
              </div>
              <div>
                <span class="mini-label">Time window</span>
                <div class="chip-group" id="timeChips" role="toolbar" aria-label="Time filters">
                  <button type="button" class="chip" data-range="24" data-active="true" aria-pressed="true">24h</button>
                  <button type="button" class="chip" data-range="6" aria-pressed="false">6h</button>
                  <button type="button" class="chip" data-range="1" aria-pressed="false">1h</button>
                </div>
              </div>
            </div>
          </article>

          <article class="card-tile spark-card" aria-label="Events per hour">
            <header class="tile-head">
              <h2>Events per hour</h2>
              <span class="tile-meta"><i class="fa-solid fa-chart-line"></i><span id="sparkSummary">Loading</span></span>
            </header>
            <div class="sparkline" id="sparkline" role="img" aria-label="Sparkline for events per hour"></div>
          </article>

          <article class="card-tile" aria-label="Detection stream">
            <header class="tile-head">
              <h2>Detections</h2>
              <span class="tile-meta"><i class="fa-solid fa-eye"></i><span id="detectionCount">0 shown</span></span>
            </header>
            <div class="detection-grid" id="detectionGrid" aria-live="polite"></div>
            <p class="empty-state" id="detectionEmpty" hidden>No detections match the current filters.</p>
          </article>
        </div>

        <aside class="ai-sidebar" aria-label="AI context">
          <article class="card-tile" aria-label="Zones">
            <header class="tile-head">
              <h2>Zones</h2>
              <span class="tile-meta"><i class="fa-solid fa-vector-square"></i><span>Schedules</span></span>
            </header>
            <div class="zone-list" id="zoneList"></div>
          </article>

          <article class="card-tile" aria-label="Alerts">
            <header class="tile-head">
              <h2>Alerts</h2>
              <span class="tile-meta"><i class="fa-solid fa-bell"></i><span>Latest</span></span>
            </header>
            <div class="alert-list" id="alertList"></div>
          </article>

          <article class="card-tile memory-card" aria-label="Memory log">
            <header class="tile-head">
              <h2>Memory</h2>
              <button type="button" class="chip" id="memoryCollapse" aria-pressed="false">Collapse</button>
            </header>
            <div class="memory-list" id="memoryList"></div>
          </article>
        </aside>
      </section>
    </main>

    <footer class="footer-bar">
      <div class="wrap">
        <span class="logo">Orbsurv</span>
        <nav class="footer-links" aria-label="Footer navigation">
          <a href="index.html">Home</a>
          <a href="product.html">Product</a>
          <a href="demo.html">Demo</a>
          <a href="about.html">About</a>
          <a href="privacy.html">Privacy</a>
        </nav>
        <span class="mini-label">&copy; <span data-year></span> Orbsurv</span>
      </div>
    </footer>
  </div>

  <script type="module" src="js/ai.js"></script>
</body>
</html>
