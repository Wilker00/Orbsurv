# Orbsurv Backend Environment Configuration
# Copy this file to backend/.env and update with your actual values

# Database Configuration
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/orbsurv

# JWT Security (REQUIRED - Generate a strong secret key)
JWT_SECRET_KEY=your-super-secret-jwt-key-here-make-it-long-and-random-at-least-32-characters
JWT_ALGORITHM=HS256

# Token Expiration (in minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_MINUTES=1440
RESET_TOKEN_EXPIRE_MINUTES=30

# CORS Configuration (comma-separated list of allowed origins)
CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080,https://yourdomain.com

# Environment
ENV=development
LOG_LEVEL=INFO

# Development OTP (for dev role access)
DEV_MASTER_OTP=000000

# Redis Configuration (optional)
REDIS_URL=redis://localhost:6379

# Email Configuration (optional - for password reset emails)
EMAIL_PROVIDER=smtp
EMAIL_API_KEY=your-email-api-key
EMAIL_FROM_EMAIL=noreply@yourdomain.com
EMAIL_FROM_NAME=Orbsurv

# Frontend URL (for password reset links)
FRONTEND_BASE_URL=http://localhost:8080

# API Documentation
DOCS_URL=/docs
REDOC_URL=/redoc

# Public Form Hardening
PUBLIC_FORM_RATE_LIMIT=5
PUBLIC_FORM_RATE_WINDOW_SECONDS=600
CLIENT_ERROR_RATE_LIMIT=20
CLIENT_ERROR_RATE_WINDOW_SECONDS=60

# Captcha (set CAPTCHA_SECRET_KEY when deploying to production)
CAPTCHA_PROVIDER=hcaptcha
CAPTCHA_VERIFY_URL=https://hcaptcha.com/siteverify
CAPTCHA_SECRET_KEY=
CAPTCHA_REQUIRED_FOR_PUBLIC_FORMS=false

# Observability
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.05
