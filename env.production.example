# Orbsurv Production Environment Configuration
# Copy this file to backend/.env and update with your actual production values

# Database Configuration (Use your production database)
DATABASE_URL=postgresql+asyncpg://username:password@your-db-host:5432/orbsurv

# JWT Security (REQUIRED - Generate a strong secret key)
# Generate at: https://generate-secret.vercel.app/32
JWT_SECRET_KEY=REPLACE_WITH_YOUR_PRODUCTION_JWT_SECRET_KEY_AT_LEAST_32_CHARACTERS
JWT_ALGORITHM=HS256

# Token Expiration (in minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_MINUTES=1440
RESET_TOKEN_EXPIRE_MINUTES=30

# CORS Configuration (comma-separated list of allowed origins)
# IMPORTANT: Update with your actual production domains
CORS_ALLOW_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://app.yourdomain.com

# Environment
ENV=production
LOG_LEVEL=WARNING

# Development OTP (for dev role access)
# IMPORTANT: Change this in production!
DEV_MASTER_OTP=CHANGE_THIS_IN_PRODUCTION

# Redis Configuration (Use your production Redis)
REDIS_URL=redis://your-redis-host:6379

# Email Configuration (SMTP for transactional emails)
EMAIL_HOST=smtp.your-provider.com
EMAIL_PORT=587
EMAIL_USER=your-smtp-username
EMAIL_PASS=your-smtp-password
EMAIL_FROM="Orbsurv" <noreply@yourdomain.com>

# Frontend URL (for password reset links)
FRONTEND_BASE_URL=https://yourdomain.com

# API Documentation (disable in production for security)
DOCS_URL=
REDOC_URL=

# Additional Production Settings
# Uncomment and configure as needed:

# Database SSL
# DATABASE_URL=postgresql+asyncpg://user:pass@host:5432/db?sslmode=require

# Redis with authentication
# REDIS_URL=redis://username:password@your-redis-host:6379

# Optional overrides
# EMAIL_PROVIDER=sendgrid
# EMAIL_API_KEY=your-deprecated-email-api-key
# EMAIL_FROM_NAME=Orbsurv

# Public Form Hardening
PUBLIC_FORM_RATE_LIMIT=5
PUBLIC_FORM_RATE_WINDOW_SECONDS=600
CLIENT_ERROR_RATE_LIMIT=60
CLIENT_ERROR_RATE_WINDOW_SECONDS=60

# Captcha (REQUIRED in production)
CAPTCHA_PROVIDER=hcaptcha
CAPTCHA_VERIFY_URL=https://hcaptcha.com/siteverify
CAPTCHA_SECRET_KEY=REPLACE_WITH_YOUR_HCAPTCHA_SECRET
CAPTCHA_REQUIRED_FOR_PUBLIC_FORMS=true

# Observability
SENTRY_DSN=REPLACE_WITH_YOUR_SENTRY_DSN
SENTRY_TRACES_SAMPLE_RATE=0.2
SENTRY_PROFILES_SAMPLE_RATE=0.1
